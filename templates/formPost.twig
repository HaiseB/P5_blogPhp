{% extends "layout.twig" %}

{% block head %}
    <title>Nouvel article</title>
{% endblock head %}

{% block content %}
<script src="https://cdn.tiny.cloud/1/z80yiesiw6qlrl3y4gzy6j3zqw7ujm1dt0d5e7bjnujmen16/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
<script>
  tinymce.init({
    selector: 'textarea',
    plugins: 'a11ychecker advcode casechange formatpainter linkchecker autolink lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinymcespellchecker',
    toolbar: 'a11ycheck addcomment showcomments casechange checklist code formatpainter pageembed permanentpen table',
    toolbar_mode: 'floating',
    tinycomments_mode: 'embedded',
    tinycomments_author: 'Author name'
  });
</script>

<form method="post" enctype="multipart/form-data" action="" class="text-center">
  <fieldset>
    {% if post %}
    <legend>Modification de {{ post.name }}</legend>
    {% else %}
    <legend>Création d'un nouvel article</legend>
    {% endif %}
    <div class="form-group">
      <label for="name">Titre</label>
      <input type="text" name="name" required class="form-control" id="name" placeholder="Nom de l'article" value="{{ post.name }}">
    </div>
    {% if post %}
    <span>Une image à déjà été renseignée pour cet article, pour la remplacer faites "Choisir un fichier"</span>
    {% else %}
    <span>L'ajout d'une image est obligatoire</span>
    {% endif %}
    <div class="form-group">
      <label for="inputGroupFile02">Image</label>
      <div class="input-group mb-3">
        <div class="custom-file">
          <input type="file" name="picture" class="custom-file-input" id="inputGroupFile02">
          <label class="custom-file-label" for="inputGroupFile02">Choisir un fichier</label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="catchphrase">Phrase d'accroche</label>
      <input type="text" name="catchphrase" required class="form-control" id="catchphrase" placeholder="Phrase d'accroche" value="{{ post.catchphrase }}">
    </div>
    <div class="form-group">
      <label for="content">Contenu</label>
      <textarea name="content" id="content" rows="15" placeholder="C'est ici que ca se passe... ">{{ post.content }}</textarea>
    </div>
    <hr>
    <button type="submit" class="btn btn-success btn-block"><i class="fas fa-save"></i> Enregistrer</button>
  </fieldset>
</form>
{% if post %}
<h1>bouton de suppression</h1>
{% endif %}
{% endblock %}